.webmentions {
  &--summary {
    display        : flex;
    justify-content: space-between;
    padding        : 1rem 0.5ch;
    gap            : 2ch;
  }
}

.webmention {
  &__statistic {
    display        : flex;
    flex-wrap      : wrap;
    align-items    : center;
    justify-content: center;
    column-gap     : 0.5ch;
    font-family    : var(--font-sans);
    text-decoration: none;

    &-label {
      font-size : var(--type-size-8);
      transition: transform 200ms, opacity 200ms;

      @media (hover: hover) {
        padding         : 0.25ch 1ch;
        border-radius   : 4px;
        background-color: hsl(var(--bg-secondary));

        @at-root *:not(:hover) & {
          transform: translateY(-100%);
          opacity  : 0;
        }
      }
    }
  }
}

.webmention-container {
  margin    : 0;
  padding   : 0;
  list-style: none;

  &.likes {
    display  : flex;
    flex-wrap: wrap;
    gap      : 1ch;
  }

  &.replies {
    display       : flex;
    flex-direction: column;
    gap           : 1ch;
  }
}

.webmention__entry {
  display       : flex;
  flex-direction: column;
  padding       : 0;
  margin        : 0;
  gap           : 1ch;
}

.webmention__photo-link {
  text-decoration: none;
  color          : inherit;
  position       : relative
}

.webmention__author {
  align-items: center;
  display    : flex;
  gap        : 1ch;

  &-photo {
    --photo-size : 5ch;
    aspect-ratio : 1;
    border-radius: 1ch;
    height       : var(--photo-size);
    width        : var(--photo-size);

    @at-root .likes & {
      --photo-size: 4ch;
    }
  }

  &-name {
    font-family    : var(--font-sans);
    font-size      : 1rem;
    font-weight    : bold;
    text-decoration: none;

    &:is(a[href]):hover {
      text-decoration      : underline;
      text-decoration-color: hsl(var(--primary-500));
    }

    @at-root .likes & {
      display: none;
    }
  }
}

.webmention__timestamp-link {
  @extend .webmention__author-name;

  font-size  : var(--type-size-6);
  font-weight: normal;
}

.webmention__author-details {
  display       : flex;
  flex-direction: column;

  @at-root .likes & {
    display: none;
  }
}

.webmention__photo-icon {
  aspect-ratio       : 1;
  border-radius      : 100%;
  display            : none;
  margin-block-start : -40%;
  margin-inline-start: auto;
  outline            : 0.3ch solid hsl(var(--bg-primary));
  position           : relative;
  right              : -20%;
  z-index            : 2;
  width              : 2.5ch;
  transition         : outline 200ms, background 200ms, color 200ms;

  @at-root .webmention__entry[data-webmention-type=like-of] &[data-webmention-type=like],
  .webmention__entry[data-webmention-type=repost-of] &[data-webmention-type=repost] {
    align-items    : center;
    display        : flex;
    justify-content: center;

    svg,
    img {
      aspect-ratio: 1;
      height      : 1ch;
      width       : auto;
    }
  }

  &[data-webmention-type=like] {
    background-color: hsl(var(--error-100));
    color           : hsl(var(--error-900));
  }

  &[data-webmention-type=repost] {
    background-color: hsl(var(--success-100));
    color           : hsl(var(--success-900));
  }
}

.webmention-reply {
  background-color: hsl(var(--bg-secondary) / 50%);
  border-radius   : var(--ideal-radius);

  &__header,
  &__body {
    padding: var(--space);
  }

  &__header {
    display        : flex;
    justify-content: space-between;
    font-family    : var(--font-sans);

    .webmention__author-photo {
      --photo-size : 3ch;
      border-radius: 100%;
    }
  }

  &__body {
    display       : flex;
    flex-direction: column;
    gap           : 1ch;

    p,
    ul,
    ol {
      margin: 0;
    }
  }
}